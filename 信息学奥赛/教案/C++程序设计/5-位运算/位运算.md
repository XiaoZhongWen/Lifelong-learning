## 位运算

位运算主要是对二进制数据的操作，在了解位运算之前，先来复习一下二进制数据。以下是用4位二进制数据来表示一位十进制数。

| 十进制数 | 0    |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |
| :------: | ---- | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
| 二进制数 | 0000 | 0001 | 0010 | 0011 | 0100 | 0101 | 0110 | 0111 | 1000 |



### 位运算符

| 位运算符 |  &   |  \|  |  ^   |  ~   |  <<  |  >>  |
| :------: | :--: | :--: | :--: | :--: | :--: | :--: |
|   名称   |  与  |  或  | 异或 | 取反 | 左移 | 右移 |

* &

  按位与运算只有在两个位都是1时结果才是1，否则结果是0。

  ```c++
  // 以5 & 3为例：
    0101 (5)
  & 0011 (3)
  ------
    0001 (1)
  
  #include <iostream>
  using namespace std;
  
  int main() {
      // 二进制：0101
      int a = 5; 
      // 二进制：0011
      int b = 3; 
      // 二进制：0001，十进制：1
      int result = a & b; 
      cout << "5 & 3 = " << result << endl;
      return 0;
  }
  ```

* |

  按位或运算只要有一个位是1，结果就是1。

  ```c++
  // 以5 | 3为例：
    0101 (5)
  | 0011 (3)
  ------
    0111 (7)
  
  #include <iostream>
  using namespace std;
  
  int main() {
      // 二进制：0101
      int a = 5; 
      // 二进制：0011
      int b = 3; 
      // 二进制：0111，十进制：7
      int result = a | b; 
      cout << "5 | 3 = " << result << endl;
      return 0;
  }
  ```

* ^

  按位异或运算在两个位不相同时结果是1，相同时结果是0

  ```c++
  // 以5 ^ 3为例：
    0101 (5)
  ^ 0011 (3)
  ------
    0110 (6)
  
  #include <iostream>
  using namespace std;
  
  int main() {
      // 二进制：0101
      int a = 5; 
      // 二进制：0011
      int b = 3; 
      // 二进制：0110，十进制：6
      int result = a ^ b; 
      cout << "5 ^ 3 = " << result << endl;
      return 0;
  }
  ```

* ~

  按位取反运算把每一位都取反，0变1，1变0

  ```c++
  // 以~5为例：
  ~ 0101 (5)
  ------
    1010 (-6)
  
  #include <iostream>
  using namespace std;
  
  int main() {
      // 二进制：0101
      int a = 5; 
      int result = ~a;
      // 二进制：1010，十进制：-6（注意负数的表示方法）
      cout << "~5 = " << result << endl;
      return 0;
  }
  ```

* <<

  左移运算把所有位向左移动，右边用0补充

  ```c++
  // 以5 << 1为例：
    0101 (5)
  << 1
  ------
    1010 (10)
        
  #include <iostream>
  using namespace std;
  
  int main() {
      // 二进制：0101
      int a = 5;
      // 二进制：1010，十进制：10
      int result = a << 1; 
      cout << "5 << 1 = " << result << endl;
      return 0;
  }
  ```

* \>>

  右移运算把所有位向右移动，左边用0补充

  ```c++
  // 以5 >> 1为例：
    0101 (5)
  >> 1
  ------
    0010 (2)
        
  #include <iostream>
  using namespace std;
  
  int main() {
      // 二进制：0101
      int a = 5;
      // 二进制：0010，十进制：2
      int result = a >> 1; 
      cout << "5 >> 1 = " << result << endl;
      return 0;
  }
  ```



### 练习

写一个程序，计算并输出以下按位运算的结果：

```c++
1. 7 & 3
2. 7 | 3
3. 7 ^ 3
4. ~7
5. 7 << 2
6. 7 >> 1
```

```c++
#include <iostream>
using namespace std;

int main() {
    cout << "7 & 3 = " << (a & b) << endl;
    cout << "7 | 3 = " << (a | b) << endl;
    cout << "7 ^ 3 = " << (a ^ b) << endl;
    cout << "~7 = " << (~a) << std::endl;
    cout << "7 << 2 = " << (a << 2) << endl;
    cout << "7 >> 1 = " << (a >> 1) << endl;
    return 0;
}
```



