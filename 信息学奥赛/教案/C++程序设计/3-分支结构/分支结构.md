## 分支结构

### 什么是分支结构

程序就像我们每天做决定一样，可以根据不同的条件做出不同的反应。比如说，当你早上起床，看看天气是晴天还是雨天，你会决定是否要带伞。

想象一下，你站在一条路的岔路口，如果前面有两条路，左边的路通向学校，右边的路通向公园，你会怎么选择呢？这就是分支结构，我们要根据条件来做出选择。

![select](../../design sources/select.png)



**在程序中，我们使用 `if else` 语句来实现这种选择。`if` 的意思是“如果”，`else` 的意思是“否则”。**

### if语句

<img src="../../design sources/if.png" alt="if" style="zoom:100%;" align="left"/>

看一个简单的例子：

假设现在在下雨，那么就在控制台输出“带上雨伞吧！”

<img src="../../design sources/fc-if.png" alt="fc-if" style="zoom:50%;" align="left"/>

```c++
#include <iostream>
using namespace std;

int main() {
    bool isRaining = true;  // 假设现在在下雨

    if (isRaining) {
        cout << "带上雨伞吧！" << endl;
    }

    return 0;
}
```



### if-else语句

<img src="../../design sources/if-else.png" alt="if" style="zoom:100%;" align="left"/>

看一个简单的例子：

<img src="../../design sources/fc-ifelse.png" alt="fc-if" style="zoom:50%;" align="left"/>

假设现在没下雨，那么就在控制台输出“今天不需要带雨伞。”

```c++
#include <iostream>
using namespace std;

int main() {
    bool isRaining = false;  // 假设现在没下雨

    if (isRaining) {
        cout << "带上雨伞吧！" << endl;
    } else {
        cout << "今天不需要带雨伞。" << endl;
    }
    
    return 0;
}
```



### if-else if语句

<img src="../../design sources/if-else-if.png" alt="if-else-if" style="zoom:100%;" align="left"/>

看一个简单的例子：

<img src="../../design sources/fc-if-elseif.png" alt="fc-if" style="zoom:50%;" align="left"/>

假设现在我们有一个变量 `temperature`，表示今天的温度。

* 如果温度在 20 到 30 度之间，我们说“穿长袖。”

```c++
#include <iostream>
using namespace std;

int main() {
    int temperature = 25;  // 假设现在的温度是25度

    if (temperature > 30) {
        cout << "穿短袖吧！" << endl;
    } else if (temperature >= 20) {
        cout << "穿长袖。" << endl;
    } 
    
    return 0;
}
```



### if-else if-else语句

<img src="../../design sources/if-elseif-else.png" alt="if-else-if" style="zoom:100%;" align="left"/>

看一个简单的例子：

<img src="../../design sources/fc-if-elseif-else.png" alt="fc-if" style="zoom:50%;" align="left"/>

假设现在我们有一个变量 `temperature`，表示今天的温度。

* 如果温度小于 20 度，我们说“穿外套。”

```c++
#include <iostream>
using namespace std;

int main() {
    int temperature = 10;  // 假设现在的温度是10度

    if (temperature > 30) {
        cout << "穿短袖吧！" << endl;
    } else if (temperature >= 20) {
        cout << "穿长袖。" << endl;
    } else {
        cout << "穿外套。" << endl;
    }
    
    return 0;
}
```



### 关系运算符

| 关系运算符 |  >   |    >=    |  <   |    <=    |  ==  |   !=   |
| :--------: | :--: | :------: | :--: | :------: | :--: | :----: |
|    解释    | 大于 | 大于等于 | 小于 | 小于等于 | 等于 | 不等于 |

关系运算符计算的结果都是bool值，即true或false

```c++
#include <iostream>
using namespace std;

int main() {
  int a = 5;
  int b = 3;
  
  // 1. '>' 运算符号
  bool c1 = a > b; // c1的值是true
  
  // 2. '>=' 运算符号
  bool c2 = a >= b; // c2的值是true
  
  // 3. '<' 运算符号
  bool c3 = a < b; // c3的值是false
  
  // 4. '<=' 运算符号
  bool c4 = a <= b; // c4的值是false
  
  // 5. '==' 运算符号
  bool c5 = a == b; // c5的值是false
  
  // 6. '!=' 运算符号
  bool c6 = a != b; // c1的值是true
  
  return 0;
}
```



### 逻辑运算符

| 逻辑运算符 |  &&  | \|\| |  ！  |
| :--------: | :--: | :--: | :--: |
|    名称    |  与  |  或  |  非  |

逻辑运算符计算的结果也是bool值，即true或false

```c++
#include <iostream>
using namespace std;

int main() {
  // 1. '&&' 与运算符
  // 运算符 '&&' 的左右两边各需要一个bool值
  // 如果运算符 '&&' 左右两边的bool值都是true，那么最后的结果就是true
  // 如果运算符 '&&' 左右两边的bool值不都是true，那么最后的结果就是false
  
  // c1的值是false;因为 与运算符 的左边表达式'5 > 3'的计算结果是true、而右边的表达式'2 > 3'的计算结果
  // 是false，即c1=true && false, 结果是false
  bool c1 = 5 > 3 && 2 > 3;
  
  // c2的值是true;因为 与运算符 的左边表达式'5 > 3'的计算结果是true、右边的表达式'2 >= 2'的计算结果
  // 也是true，即c2=true && true, 结果是true
  bool c2 = 5 > 3 && 2 >= 2;
  
  // c3的值是false; 因为与运算符左边的真值是false; 对于与运算符, 它两边的真值只要有一个是false, 计算的
  // 结果就是false. 
  // 另外这个操作是短路操作, 因为程序运行时, 发现与运算符左边的真值是false后, 就不会再检查右边的真值了
  bool c3 = false && 2 >= 2;
  
  
  // 2. '||' 或运算符
  // 运算符 '||' 的左右两边各需要一个bool值
  // 只要运算符 '||' 左右两边的bool值有一个是true，那么最后的结果就是true
  // 如果运算符 '||' 左右两边的bool值都是false，那么最后的结果就是false
  
  // c4的值是false;因为 或运算符 的左边表达式'5 < 3'的计算结果是false、右边的表达式'2 > 3'的计算结果
  // 也是false, 即c4 = false || false, 结果是false
  bool c4 = 5 < 3 || 2 > 3;
  
  // c5的值是true; 因为 或运算符 的左边的真值是true; 对于或运算符, 它两边的真值只要有一个是true, 计算
  // 的结果就是true
  // 另外这个操作也是短路操作, 因为程序运行时, 发现或运算符左边的真值是true后, 就不会再检查右边的真值了
  bool c5 = true || 2 > 3;
  
  // 3. '!' 非运算符
  // 运算符'!'右边需要一个bool值; 它的意思是将右边的bool值取反
  // 如果'!'右边的bool值是true, 结果就是false
  // 如果'!'右边的bool值是false, 结果就是true
  
  // c6的值是true, 因为5 < 3的真值是false, 取反后就是true
  bool c6 = !5 < 3;
  
  // c7的值是false, 因为true取反后是false
  bool c7 = !true;
  
  return 0;
}
```



### 编程练习

判断闰年

"四年一闰、百年不闰、四百年再闰"

2024年是闰年 -- 四年一闰

1900年是平年 -- 百年不闰

2000年是闰年 -- 四百年再闰

<img src="../../design sources/leap_year.png" alt="leap_year" style="zoom:50%;" align="left"/>

```c++
#include <iostream>
using namespace std;

int main() {
  if (x % 400 == 0) {
    cout << "YES" << endl;
  } else if ((x % 4 == 0) && (x % 100 != 0)) {
    cout << "YES" << endl;
  } else {
    cout << "NO" << endl;
  }
  
  return 0;
}
```



### 条件表达式

语法规则： 表达式1?表达式2:表达式3

注意：

* 这里的表达式1的计算结果需要是bool值
* 如果表达式1的值是true，则条件表达式的结果就是表达式2的结果
* 如果表达式1的值是false，则条件表达式的结果就是表达式3的结果



以下两段代码的功能都是一样的，都是从控制台接收用户输入的两个数字，把大的数赋值给c

```c++
#include <iostream>
using namespace std;

int main() {
  int a,b,c;
  
  cin >> a >> b;
  if (a > b) {
    c = a;
  } else {
    c = b
  }
  
  return 0;
}
```

```c++
#include <iostream>
using namespace std;

int main() {
  int a,b,c;
  
  cin >> a >> b;
  c = a > b?a:b;
  
  return 0;
}
```



### 运算符优先级

|     运算符     |       ()       |     *、 /、 %      |    +、 -     |        <、 >、 >=、 <=         |   ==、 !=    |
| :------------: | :------------: | :----------------: | :----------: | :----------------------------: | :----------: |
| 优先级由高到低 | 括号优先级最高 | 乘、除、求余表达式 | 加、减表达式 | 小于、大于、大于等于、小于等于 | 等于、不等于 |

**优先级高的部分先进行计算**
